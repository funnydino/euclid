"use strict";
window.addEventListener("DOMContentLoaded", function () {
  const e = document.querySelector(".nav-toggle"),
    t = document.querySelector(".header"),
    o = document.querySelector("#menu"),
    s = document.body,
    c = document.querySelector(".page"),
    i = document.querySelector(".hero"),
    n = (document.querySelector(".container"), document.querySelectorAll(".fixed-block"), document.querySelectorAll(".questions-list__item"));
  e.addEventListener("click", function () {
    o.classList.toggle("active"), o.classList.contains("active") ? (a(), function () {
      const e = window.innerWidth - document.body.offsetWidth + "px",
        o = window.scrollY;
      s.classList.add("scroll-disable"), s.dataset.position = o, s.style.top = -o + "px", t.style.top = o + "px", s.style.paddingRight = e, console.log("Scroll disabled!")
    }(), e.classList.add("active")) : (setTimeout(d, 200), function () {
      const e = parseInt(s.dataset.position, 10);
      s.style.top = "auto", t.style.top = "auto", s.classList.remove("scroll-disable"), window.scroll({
        top: e,
        left: 0
      }), s.removeAttribute("data-position"), s.style.paddingRight = "0px", console.log("Scroll enabled!")
    }(), e.classList.remove("active"))
  });
  const a = () => {
      o.style.height = "100vh"
    },
    d = () => {
      o.style.height = "auto"
    };
  document.querySelectorAll(".step-link").forEach(function (e) {
    e.addEventListener("click", function (e) {
      const t = e.currentTarget.dataset.path;
      document.querySelectorAll(".works-info").forEach(function (e) {
        e.classList.remove("works-info__active")
      }), document.querySelector(`[data-target="${t}"]`).classList.add("works-info__active"), document.querySelectorAll(".step-link").forEach(function (e) {
        e.classList.remove("active")
      }), document.querySelector(`[data-path="${t}"]`).classList.add("active")
    })
  }), n.forEach(e => {
    e.addEventListener("click", t => {
      t.preventDefault(), e.classList.toggle("active")
    }), e.addEventListener("keydown", t => {
      "Space" !== t.code && "Enter" !== t.code || (t.preventDefault(), e.classList.toggle("active"))
    })
  });
  const l = t.offsetHeight,
    r = i.offsetHeight,
    u = () => {
      window.pageYOffset >= l && window.pageYOffset < r ? t.classList.add("header--hidden") : window.pageYOffset >= r ? (t.classList.remove("header--hidden"), t.classList.add("header--fixed"), t.style.marginTop = -t.offsetHeight + "px", c.style.paddingTop = t.offsetHeight + "px") : (t.classList.remove("header--hidden"), t.classList.remove("header--fixed"))
    };
  u(), window.addEventListener("scroll", function () {
    u()
  })
});